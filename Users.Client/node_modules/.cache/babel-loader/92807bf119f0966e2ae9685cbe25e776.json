{"ast":null,"code":"var _jsxFileName = \"/Users/romsyaborysenko/Documents/folder . . ./My resume project/Users/client/src/components/UserList.js\",\n    _s = $RefreshSig$();\n\nimport axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport User from \"./User\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function UserList() {\n  _s();\n\n  const [userList, setUserList] = useState([]);\n  const [recordForEdit, setRecordForEdit] = useState(null);\n  useEffect(() => {\n    refreshUserList();\n  }, []);\n\n  const userAPI = function () {\n    let url = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : 'https://localhost:5262/api/User/';\n    return {\n      fetchAll: () => axios.get(url),\n      create: newRecord => axios.post(url, newRecord),\n      update: (id, updatedRecord) => axios.put(url + id, updatedRecord),\n      delete: id => axios.delete(url + id)\n    };\n  };\n\n  function refreshUserList() {\n    userAPI().fetchAll().then(res => setUserList(res.data)).catch(err => console.log(err));\n  }\n\n  const addOrEdit = (formData, onSuccess) => {\n    if (formData.get('userId') == \"0\") {\n      userAPI().create(formData).then(res => {\n        onSuccess();\n        refreshUserList();\n      }).catch(err => console.log(err));\n    } else {\n      userAPI().update(formData.get('userId'), formData).then(res => {\n        onSuccess();\n        refreshUserList();\n      }).catch(err => console.log(err));\n    }\n  };\n\n  const showRecordDetails = data => {\n    setRecordForEdit(data);\n  };\n\n  const onDelete = (e, id) => {\n    e.stopPropagation();\n    if (window.confirm(\"Are you sure to delete this record?\")) userAPI().delete(id).then(res => refreshUserList()).catch(err => console.log(err));\n  };\n\n  const imageCard = data => /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"card\",\n    onClick: () => {\n      showRecordDetails(data);\n    },\n    children: /*#__PURE__*/_jsxDEV(\"h5\", {\n      children: [data.userName, \", \", data]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 62,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 9\n  }, this)\n  /*<div className=\"card\" onClick={() => { showRecordDetails(data)}}>\n      <div className=\"card-body\">\n      <img src={data.imageSrc} className=\"card-img-bottom\" />\n          <h5>{data.userName}, {data.profession}</h5>\n          <span>{data.email}</span> <br />\n          <button className=\"btn btn-light delete-button\" onClick={e => onDelete(e, parseInt(data.userId))}>\n              <i className=\"far fa-trash-alt\"></i>\n          </button>\n      </div>\n  </div>*/\n  ;\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"row\",\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-12\",\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"jumbotron jumbotron-fluid py-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"contrainer text-center\",\n          children: /*#__PURE__*/_jsxDEV(\"h1\", {\n            className: \"display-4\",\n            children: \"User Register\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 82,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-4\",\n      children: /*#__PURE__*/_jsxDEV(User, {\n        addOrEdit: addOrEdit,\n        recordForEdit: recordForEdit\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 86,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"col-md-8\",\n      children: /*#__PURE__*/_jsxDEV(\"table\", {\n        children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n          children: [...Array(Math.ceil(userList.length))].map((e, i) => /*#__PURE__*/_jsxDEV(\"tr\", {\n            children: /*#__PURE__*/_jsxDEV(\"td\", {\n              children: imageCard(userList[i])\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 97,\n              columnNumber: 33\n            }, this)\n          }, i, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 29\n          }, this)\n          /* <tr key={i}>\n               <th>{imageCard(userList[3 * i])}</th>\n               <th>{userList[3 * i + 1] ? imageCard(userList[3 * i + 1]) : null}</th>\n               <th>{userList[3 * i + 2] ? imageCard(userList[3 * i + 2]) : null}</th>\n           </tr>*/\n          )\n          /* [...Array(Math.ceil(userList.length / 3))].map((e, i) =>\n                <tr key={i}>\n                    <td>{imageCard(userList[3 * i])}</td>\n                    <td>{userList[3 * i + 1] ? imageCard(userList[3 * i + 1]) : null}</td>\n                    <td>{userList[3 * i + 2] ? imageCard(userList[3 * i + 2]) : null}</td>\n                </tr>\n            )*/\n\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 9\n  }, this);\n}\n\n_s(UserList, \"tX8Ib3MNNmfToaiQo0RxWZasz1E=\");\n\n_c = UserList;\n\nvar _c;\n\n$RefreshReg$(_c, \"UserList\");","map":{"version":3,"names":["axios","React","useState","useEffect","User","UserList","userList","setUserList","recordForEdit","setRecordForEdit","refreshUserList","userAPI","url","fetchAll","get","create","newRecord","post","update","id","updatedRecord","put","delete","then","res","data","catch","err","console","log","addOrEdit","formData","onSuccess","showRecordDetails","onDelete","e","stopPropagation","window","confirm","imageCard","userName","Array","Math","ceil","length","map","i"],"sources":["/Users/romsyaborysenko/Documents/folder . . ./My resume project/Users/client/src/components/UserList.js"],"sourcesContent":["import axios from \"axios\";\nimport React, { useState, useEffect } from \"react\";\nimport User from \"./User\";\n\n\nexport default function UserList() {\n    const [userList, setUserList] = useState([])\n    const [recordForEdit, setRecordForEdit] = useState(null)\n\n    useEffect(() => {\n        refreshUserList();\n    }, [])\n\n    const userAPI = (url = 'https://localhost:5262/api/User/') => {\n        return {\n            fetchAll: () => axios.get(url),\n            create: newRecord => axios.post(url, newRecord),\n            update: (id, updatedRecord) => axios.put(url + id, updatedRecord),\n            delete: id => axios.delete(url + id)\n        }\n    }\n\n    function refreshUserList() {\n        userAPI().fetchAll()\n            .then(res => setUserList(res.data))\n        .catch(err=>console.log(err))\n    }\n\n    const addOrEdit = (formData, onSuccess) => {\n        if (formData.get('userId') == \"0\") {\n            userAPI().create(formData)\n                .then(res => {\n                    onSuccess();\n                    refreshUserList();\n                })\n                .catch(err => console.log(err))\n        }\n        else {\n            userAPI().update(formData.get('userId'), formData)\n                .then(res => {\n                    onSuccess();\n                    refreshUserList();\n                })\n                .catch(err => console.log(err))\n        }\n    }\n\n    const showRecordDetails = data => {\n        setRecordForEdit(data)\n    }\n\n    const onDelete = (e, id) => {\n        e.stopPropagation();\n        if (window.confirm(\"Are you sure to delete this record?\"))\n            userAPI().delete(id)\n                .then(res => refreshUserList())\n                .catch(err => console.log(err))\n    }\n\n    const imageCard = data => (\n        <div className=\"card\" onClick={() => { showRecordDetails(data)}}>\n            <h5>{data.userName}, {data}</h5>\n        </div>\n        /*<div className=\"card\" onClick={() => { showRecordDetails(data)}}>\n            <div className=\"card-body\">\n            <img src={data.imageSrc} className=\"card-img-bottom\" />\n                <h5>{data.userName}, {data.profession}</h5>\n                <span>{data.email}</span> <br />\n                <button className=\"btn btn-light delete-button\" onClick={e => onDelete(e, parseInt(data.userId))}>\n                    <i className=\"far fa-trash-alt\"></i>\n                </button>\n            </div>\n        </div>*/\n    )\n\n\n    return (\n        <div className=\"row\">\n            <div className=\"col-md-12\">\n                <div className=\"jumbotron jumbotron-fluid py-4\">\n                    <div className=\"contrainer text-center\">\n                        <h1 className=\"display-4\">User Register</h1>\n                    </div>\n                </div>\n            </div>\n            <div className=\"col-md-4\">\n                <User\n                    addOrEdit={addOrEdit}\n                    recordForEdit={recordForEdit} />\n            </div>\n            <div className=\"col-md-8\">\n                <table>\n                    <tbody>\n                        {\n                            [...Array(Math.ceil(userList.length))].map((e, i) =>\n                            <tr key={i}>\n                                <td>{imageCard(userList[i])}</td>\n                            </tr>\n                           /* <tr key={i}>\n                                <th>{imageCard(userList[3 * i])}</th>\n                                <th>{userList[3 * i + 1] ? imageCard(userList[3 * i + 1]) : null}</th>\n                                <th>{userList[3 * i + 2] ? imageCard(userList[3 * i + 2]) : null}</th>\n                            </tr>*/\n                        )\n                          \n\n                          /* [...Array(Math.ceil(userList.length / 3))].map((e, i) =>\n                                <tr key={i}>\n                                    <td>{imageCard(userList[3 * i])}</td>\n                                    <td>{userList[3 * i + 1] ? imageCard(userList[3 * i + 1]) : null}</td>\n                                    <td>{userList[3 * i + 2] ? imageCard(userList[3 * i + 2]) : null}</td>\n                                </tr>\n                            )*/\n                        }\n                    </tbody>\n                </table>\n            </div>\n        </div>\n    )\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}