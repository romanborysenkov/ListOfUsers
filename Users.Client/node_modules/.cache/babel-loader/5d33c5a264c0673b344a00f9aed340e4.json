{"ast":null,"code":"var _jsxFileName = \"/Users/romsyaborysenko/Documents/folder . . ./My resume project/Users/client/src/components/User.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { setSelectionRange } from \"@testing-library/user-event/dist/utils\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nconst defaultImageSrc = '/img/profile.png';\nconst initialFieldValues = {\n  userId: 0,\n  Name: '',\n  Email: '',\n  Profession: '',\n  imageName: '',\n  imageSrc: defaultImageSrc,\n  imageFile: null\n};\nexport default function User(props) {\n  _s();\n\n  const {\n    addOrrEdit,\n    recordForEdit\n  } = props;\n  const [values, setValues] = useState(initialFieldValues);\n  const [errors, setErrors] = useState({});\n  useEffect(() => {\n    if (recordForEdit != null) setValues(recordForEdit);\n  }, [recordForEdit]);\n\n  const handleInputChange = e => {\n    const {\n      name,\n      value\n    } = e.targer;\n    setValues({ ...values,\n      [name]: value\n    });\n  };\n\n  const showPreview = e => {\n    if (e.target.files && e.target.files[0]) {\n      let imageFile = e.target.files[0];\n      const reader = new FileReader();\n\n      reader.onload = x => {\n        setValues({ ...values,\n          imageFile,\n          imageSrc: x.target.result\n        });\n      };\n\n      reader.readAsDataURL(imageFile);\n    } else {\n      setValues({ ...values,\n        imageFile: null,\n        imageSrc: defaultImageSrc\n      });\n    }\n  };\n\n  const validate = () => {\n    let temp = {};\n    temp.Name = values.Name == \"\" ? false : true;\n    temp.imageSrc = values.imageSrc == defaultImageSrc ? false : true;\n    setErrors(temp);\n    return Object.values(temp).every(x => x == true);\n  };\n\n  const resetForm = () => {\n    setValues(initialFieldValues);\n    document.getElementById('image-uploader').value = null;\n    setErrors({});\n  };\n\n  const handleFormSubmit = e => {\n    e.preventDefault();\n\n    if (validate()) {\n      const formData = new FormData();\n      formData.append(\"userId\", values.userId);\n      formData.append(\"Name\", values.Name);\n      formData.append(\"Email\", values.Email);\n      formData.append(\"Profession\", values.Profession);\n      formData.append(\"imageName\", values.imageName);\n      formData.append(\"imageFile\", values.imageFile);\n      addOrrEdit(formData, resetForm);\n    }\n  };\n\n  const applyErrorClass = field => field in errors && errors[field] == false ? 'invalid-field' : '';\n\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container text-center\",\n      children: /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"lead\",\n        children: \"An User\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 8\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      autoComplete: \"off\",\n      noValidate: true,\n      onSubmit: handleFormSubmit,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"card\",\n        children: [/*#__PURE__*/_jsxDEV(\"img\", {\n          src: values.imageSrc,\n          className: \"card-img-top\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"card-body\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              type: \"file\",\n              accept: \"image/*\",\n              className: \"form-controle-file\" + applyErrorClass()\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 98,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\" + applyErrorClass('Name'),\n              placeholder: \"User Name\",\n              name: \"Name\",\n              value: values.Name,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 100,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\" + applyErrorClass('Email'),\n              placeholder: \"Email\",\n              name: \"Email\",\n              value: values.Email,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 105,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 104,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group\",\n            children: /*#__PURE__*/_jsxDEV(\"input\", {\n              className: \"form-control\" + applyErrorClass('Profession'),\n              placeholder: \"Profession\",\n              name: \"Profession\",\n              value: values.Profession,\n              onChange: handleInputChange\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 109,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 108,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"form-group text-cener\",\n            children: /*#__PURE__*/_jsxDEV(\"button\", {\n              type: \"submit\",\n              className: \"btn btn-light\",\n              children: \"Submit\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 113,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 112,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 9\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 8\n    }, this)]\n  }, void 0, true);\n}\n\n_s(User, \"51R8kvoWXR9dYwXVVdD03+ahdxw=\");\n\n_c = User;\n\nvar _c;\n\n$RefreshReg$(_c, \"User\");","map":{"version":3,"names":["React","useEffect","useState","setSelectionRange","defaultImageSrc","initialFieldValues","userId","Name","Email","Profession","imageName","imageSrc","imageFile","User","props","addOrrEdit","recordForEdit","values","setValues","errors","setErrors","handleInputChange","e","name","value","targer","showPreview","target","files","reader","FileReader","onload","x","result","readAsDataURL","validate","temp","Object","every","resetForm","document","getElementById","handleFormSubmit","preventDefault","formData","FormData","append","applyErrorClass","field"],"sources":["/Users/romsyaborysenko/Documents/folder . . ./My resume project/Users/client/src/components/User.js"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { setSelectionRange } from \"@testing-library/user-event/dist/utils\";\n\nconst defaultImageSrc = '/img/profile.png';\nconst initialFieldValues={\n    userId:0,\n    Name: '',\n    Email: '',\n    Profession: '',\n    imageName: '',\n    imageSrc: defaultImageSrc,\n    imageFile: null\n}\n\n\nexport default function User(props){\n    const{addOrrEdit, recordForEdit}=props\n\n    const[values, setValues]= useState(initialFieldValues)\n    const [errors, setErrors] = useState({})\n\nuseEffect(()=>{\n    if(recordForEdit!=null)\n        setValues(recordForEdit);\n}, [recordForEdit])\n\nconst handleInputChange = e =>{\n    const{name, value} = e.targer;\n    setValues({\n        ...values,\n        [name]: value\n    })\n}\n\nconst showPreview = e=>{\n    if(e.target.files && e.target.files[0]){\n        let imageFile = e.target.files[0];\n        const reader = new FileReader();\n        reader.onload = x=>{\n            setValues({\n                ...values,\n               imageFile,\n               imageSrc: x.target.result\n            })\n        }\n        reader.readAsDataURL(imageFile)\n    }\n    else{\n        setValues({\n            ...values,\n            imageFile:null,\n            imageSrc: defaultImageSrc\n        })\n    }\n}\n\nconst validate = ()=> {\n    let temp ={}\n    temp.Name =values.Name == \"\"?false:true;\n    temp.imageSrc = values.imageSrc == defaultImageSrc? false:true;\n    setErrors(temp)\n    return Object.values(temp).every(x=>x==true)\n}\n\nconst resetForm=()=>{\n    setValues(initialFieldValues)\n    document.getElementById('image-uploader').value=null;\n    setErrors({})\n}\n\nconst handleFormSubmit = e=>{\n    e.preventDefault()\n    if(validate()){\n        const formData = new FormData()\n        formData.append(\"userId\", values.userId)\n        formData.append(\"Name\", values.Name)\n        formData.append(\"Email\", values.Email)\n        formData.append(\"Profession\", values.Profession)\n        formData.append(\"imageName\", values.imageName)\n        formData.append(\"imageFile\", values.imageFile)\n        addOrrEdit(formData, resetForm)\n    }\n}\n\n\nconst applyErrorClass = field=>((field in errors&&errors[field] == false)? 'invalid-field': '')\n\n    return(\n       <>\n       <div className=\"container text-center\">\n        <p className=\"lead\">An User</p>\n       </div>\n       <form autoComplete=\"off\" noValidate onSubmit={handleFormSubmit}>\n        <div className=\"card\">\n            <img src={values.imageSrc} className=\"card-img-top\"/>\n        <div className=\"card-body\">\n            <div className=\"form-group\">\n                <input type=\"file\" accept=\"image/*\" className={\"form-controle-file\"+applyErrorClass()}/>\n            </div>\n            <div className=\"form-group\">\n                <input className={\"form-control\" + applyErrorClass('Name')}placeholder=\"User Name\" name=\"Name\"\n                value={values.Name} onChange={handleInputChange} />\n            </div>\n            <div className=\"form-group\">\n                <input className={\"form-control\" + applyErrorClass('Email')}placeholder=\"Email\" name=\"Email\"\n                value={values.Email} onChange={handleInputChange} />\n            </div>\n            <div className=\"form-group\">\n                <input className={\"form-control\" + applyErrorClass('Profession')}placeholder=\"Profession\" name=\"Profession\"\n                value={values.Profession} onChange={handleInputChange} />\n            </div>\n            <div className=\"form-group text-cener\">\n                <button type=\"submit\" className=\"btn btn-light\">Submit</button>\n            </div>\n        </div>\n        </div>\n       </form>\n       </>\n    )\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}